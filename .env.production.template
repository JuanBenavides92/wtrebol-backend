# ============================================
# WTREBOL BACKEND - PRODUCTION ENVIRONMENT
# ============================================
# API Domain: https://api.wtrebol.com
# Last Updated: 2026-01-31

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=5000
NODE_ENV=production

# ============================================
# DATABASE - MongoDB
# ============================================
# OPTION 1: VPS Local MongoDB
MONGODB_URI=mongodb://USERNAME:PASSWORD@YOUR_VPS_IP:26050/wtrebol_production?authSource=wtrebol_production

# OPTION 2: MongoDB Atlas (Recommended for Production)
# MONGODB_URI=mongodb+srv://USERNAME:PASSWORD@YOUR_CLUSTER.mongodb.net/wtrebol_production?retryWrites=true&w=majority&appName=martben

DB_NAME=wtrebol_production
COLLECTION_PREFIX=wtrebol

# ============================================
# FRONTEND URL
# ============================================
# ⚠️ CRITICAL: Must match production frontend domain
FRONTEND_URL=https://wtrebol.com

# ============================================
# JWT & SESSION SECRETS
# ============================================
# ⚠️ CRITICAL: Change these in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_THIS_IN_PRODUCTION_USE_RANDOM_64_CHAR_STRING
JWT_EXPIRES_IN=24h
SESSION_SECRET=CHANGE_THIS_IN_PRODUCTION_USE_RANDOM_64_CHAR_STRING

# ============================================
# AWS S3 STORAGE
# ============================================
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_ACCESS_KEY
AWS_BUCKET_NAME=YOUR_BUCKET_NAME
AWS_REGION=us-east-2

# ============================================
# EMAIL SMTP CONFIGURATION
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
SMTP_FROM_NAME=WTREBOL
SMTP_FROM_EMAIL=your-email@gmail.com

# ============================================
# WOMPI PAYMENT GATEWAY - PRODUCTION
# ============================================
# ⚠️ CRITICAL: Replace with PRODUCTION credentials from Wompi Dashboard
# Get from: https://comercios.wompi.co/ → API Keys → Production Mode

# Production Public Key (starts with pub_prod_)
WOMPI_PUBLIC_KEY=pub_prod_REPLACE_WITH_YOUR_PRODUCTION_KEY

# Production Private Key (starts with prv_prod_)
WOMPI_PRIVATE_KEY=prv_prod_REPLACE_WITH_YOUR_PRODUCTION_KEY

# Production Integrity Secret (starts with prod_integrity_)
WOMPI_INTEGRITY_SECRET=prod_integrity_REPLACE_WITH_YOUR_PRODUCTION_SECRET

# Production Events Secret (starts with prod_events_)
WOMPI_EVENTS_SECRET=prod_events_REPLACE_WITH_YOUR_PRODUCTION_SECRET

# Production API URL
WOMPI_API_URL=https://production.wompi.co/v1

# ============================================
# WOMPI WEBHOOK CONFIGURATION
# ============================================
# Configure in Wompi Dashboard:
# URL: https://api.wtrebol.com/api/webhooks/wompi
# Events: transaction.updated, transaction.created

# ============================================
# SECURITY NOTES
# ============================================
# 1. Never commit this file to Git
# 2. Keep secure backups of all production secrets
# 3. Rotate secrets every 90 days
# 4. Use different secrets than development
# 5. Enable 2FA on all service accounts
# 6. Monitor Wompi transactions daily
# 7. Set up alerts for failed payments
# 8. Configure rate limiting on API endpoints
# 9. Enable MongoDB authentication
# 10. Use SSL/TLS for all connections

# ============================================
# WOMPI PRODUCTION CHECKLIST
# ============================================
# Before going live with Wompi:
# [ ] Account verified with business documents
# [ ] Bank account linked and verified
# [ ] Production mode activated in dashboard
# [ ] Webhook URL configured and tested
# [ ] Test transaction completed successfully
# [ ] Transaction limits configured
# [ ] Commission rates confirmed
# [ ] Fraud prevention rules set
# [ ] Email notifications enabled
# [ ] Support contact information updated
